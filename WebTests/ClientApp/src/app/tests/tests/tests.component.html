<div *ngIf="currentQuestion;else no_questions" class="max-w-3xl mx-auto px-6 py-8">

  <h3 class="text-2xl font-bold mb-6">
    {{ currentQuestion.text }}
  </h3>

  <div class="space-y-3">
    <label *ngFor="let option of currentQuestion.options"
           class="flex items-center gap-3 p-4 border border-gray-300 rounded-xl
                  hover:border-blue-500 hover:bg-blue-50 transition cursor-pointer">

      <input type="radio"
             name="answer"
             [value]="option"
             [disabled]="isLocked"
             (change)="selectedAnswers(currentQuestion.id, option, test.title)"
             class="w-5 h-5 text-blue-600 focus:ring-0" />

      <span class="text-lg">
        {{ option.text }}
      </span>

    </label>
  </div>


  <!--<div *ngIf="!isFirst">
    <button class="btn btn-danger" (click)="lastQuestion()">Предыдущий вопрос</button>
  </div>-->

  <div *ngIf="!isLast" class="mt-8">
    <button (click)="nextQuestion()"
            [disabled]="isLocked === false"
            class="px-6 py-3 border border-blue-600 text-blue-700 rounded-xl shadow
                   hover:bg-blue-600 hover:text-white transition-colors duration-300
                   disabled:opacity-40 disabled:cursor-not-allowed">
      Далее
    </button>
  </div>


  <div *ngIf="isLast" class="mt-8">
    <button (click)="finishTest()"
            class="px-6 py-3 bg-gray-900 text-white rounded-xl shadow hover:bg-gray-700
                   transition-colors duration-300">
      Завершить тест
    </button>
  </div>

</div>


<ng-template #no_questions>
  <h3 class="text-center text-xl text-gray-500 py-10">В данном тесте нет вопросов</h3>
</ng-template>



<!--[class.show]="isModalOpen"
     [style.display]="isModalOpen ? 'block' : 'none'"
     class="fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50"-->
<!--<div class="bg-white p-6 rounded-xl shadow-xl w-80">
  <div class="modal-content p-3">
    <p>{{ textModal }}</p>
    <button type="button" (click)="closeModal()">Ок</button>
  </div>
</div>-->

<div *ngIf="isModalOpen"
     class="fixed inset-0 bg-black bg-opacity-40 flex justify-center items-start pt-40 z-50">

  <div class="bg-white p-6 rounded-xl shadow-xl w-80">

    <p class="mb-4 text-lg text-center">{{ textModal }}</p>

    <button (click)="closeModal()"
            class="block w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition">
      Ок
    </button>
  </div>
</div>



<!--<div class="modal fade" [class.show]="isFinishModalOpen" [style.display]="isFinishModalOpen ? 'block' : 'none'">
  <div class="modal-dialog">
    <div class="modal-content p-3">
      <p>{{ textModal }}</p>
      <button type="button" (click)="closeFinishModal()">Ок</button>
    </div>
  </div>
</div>-->


<div *ngIf="isFinishModalOpen"
     class="fixed inset-0 bg-black bg-opacity-40 flex justify-center items-start pt-20 z-50">

  <div class="bg-white p-6 rounded-xl shadow-xl w-80">

    <p class="mb-4 text-lg text-center">{{ textModal }}</p>

    <button (click)="closeFinishModal()"
            class="block w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition">
      Ок
    </button>
  </div>
</div>
